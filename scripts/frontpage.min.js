function isIEorEdge(){return"Microsoft Internet Explorer"==navigator.appName||"Netscape"==navigator.appName&&navigator.appVersion.indexOf("Edge")>-1}function showTab(a,b){$(a.target).parent().parent().find(".tab").removeClass("active"),$(a.target).addClass("active"),$(".tab-content").css("display","none"),$("#"+b).css("display","flex"),cfp=0,$(".tab-content .pack:nth-child(n+"+(ppp+1)+")").hide(),$(".tab-content .pack:nth-child(-n+"+ppp+")").fadeIn(250),bLazy.revalidate()}function nextFeaturedPage(a){cfp<12/ppp-1&&(cfp++,$(".tab-content .pack").hide(),$(".tab-content .pack:nth-child(n+"+(cfp*ppp+1)+"):nth-child(-n+"+(cfp+1)*ppp+")").fadeIn(250),$(".prev.page-button").addClass("active"),cfp==12/ppp-1&&$(".next.page-button").removeClass("active")),bLazy.revalidate()}function prevFeaturedPage(a){cfp>0&&(cfp--,$(".tab-content .pack").hide(),$(".tab-content .pack:nth-child(n+"+(cfp*ppp+1)+"):nth-child(-n+"+(cfp+1)*ppp+")").fadeIn(250),$(".next.page-button").addClass("active"),0==cfp&&$(".prev.page-button").removeClass("active")),bLazy.revalidate()}function widthUpdate(a){ppp=a<800?1:a<1200?2:a<1600?3:4,$(".tab-content .pack").hide(),$(".tab-content .pack:nth-child(n+"+(cfp*ppp+1)+"):nth-child(-n+"+(cfp+1)*ppp+")").show()}function formatBytes(a){if(0==a)return"0 B";var b=1024,c=["B","KB","MB","GB","TB"],d=Math.floor(Math.log(a)/Math.log(b));return parseFloat((a/Math.pow(b,d)).toFixed(1))+" "+c[d]}var cfp=0,ppp=4,bLazy=new Blazy({success:function(a){setTimeout(function(){$(a).find(".spinner-container").remove()},200)}});$(window).resize(function(){widthUpdate($(window).width())}),$(document).ready(function(){widthUpdate($(window).width()),$("#search-box").keyup(function(){$("#no-results-hint").hide();var a=$("#search-box").val().toLowerCase();0==a.length?$("#all-packs .pack").each(function(a,b){$(b).fadeIn(250)}):($("#all-packs .pack").each(function(b,c){~$(c).find(".pack-name").text().toLowerCase().indexOf(a)?$(c).fadeIn(250):$(c).hide()}),0==$("#all-packs").children(":visible").length&&$("#no-results-hint").fadeIn(250)),isIEorEdge()||$("html, body").animate({scrollTop:$("#all-packs").offset().top-80},250)});var a=function(b,c,d){$.getJSON(b,function(b){c.push.apply(c,b.values),b.hasOwnProperty("next")?a(b.next,c,d):d(c)})},b=function(a,b){for(var c=0;c<a.length;c++){var d=a[c];if(d.name==b)return d}},c=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];a("https://api.bitbucket.org/2.0/repositories/DokucraftSaga/dokucraft-website/downloads",[],function(a){var d=packList.slice(3);$(".tab-content .spinner-container").remove();for(var e=[],f=d.length-1;f>=0;f--){for(var g=0,h=d[f].downloads.length-1;h>=0;h--){var i=b(a,d[f].downloads[h].file)||{downloads:0};g+=i.downloads+(d[f].downloads[h].offset||0)}e.push({idx:f,dls:g})}e.sort(function(a,b){return b.dls-a.dls});for(var j=e.slice(0,12),f=0;f<j.length;f++){var k=d[j[f].idx];$("#popular.tab-content").append($("<a></a>").addClass("pack").addClass("b-lazy").attr("data-src",__aerobatic__.staticAssetPath+"/resources"+k.page+"/tn/"+k.screenshots[k.preview||0]).append($("<div></div>").addClass("spinner-container").append($("<div></div>").addClass("spinner"))).attr("href",k.page).append($("<div></div>").addClass("cover").append($("<p></p>").text(k.name)).append($("<p></p>").addClass("sub").text(k.category)).append($("<p></p>").addClass("sub").text("Downloaded "+j[f].dls+" times")).append($("<p></p>").addClass("version").text(k.downloads[0].version||""))))}d=packList.slice(4);for(var l=[],f=d.length-1;f>=0;f--){for(var m=new Date(0),h=d[f].downloads.length-1;h>=0;h--){var i=b(a,d[f].downloads[h].file)||{created_on:0},n=new Date(i.created_on);m=m<n?n:m}l.push({idx:f,date:m})}l.sort(function(a,b){return b.date-a.date});for(var o=l.slice(0,12),f=0;f<o.length;f++){var k=d[o[f].idx];$("#recent.tab-content").append($("<a></a>").addClass("pack").addClass("b-lazy").attr("data-src",__aerobatic__.staticAssetPath+"/resources"+k.page+"/tn/"+k.screenshots[k.preview||0]).append($("<div></div>").addClass("spinner-container").append($("<div></div>").addClass("spinner"))).attr("href",k.page).append($("<div></div>").addClass("cover").append($("<p></p>").text(k.name)).append($("<p></p>").addClass("sub").text(k.category)).append($("<p></p>").addClass("sub").text("Updated "+c[o[f].date.getMonth()]+" "+o[f].date.getDate()+", "+o[f].date.getFullYear())).append($("<p></p>").addClass("version").text(k.downloads[0].version||""))))}bLazy.revalidate()})});